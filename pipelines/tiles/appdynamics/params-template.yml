iaas: vsphere                                                 # azure|vsphere|aws|openstack|vcloud|google
iaas_type: vsphere-esxi                                       # azure-hyperv|vsphere-esxi|aws-xen-hvm|openstack-kvm|vcloud-esxi|google-kvm
stemcell_type: xenial                                         # xenial|trusty

product_slug: p-appdynamics
product-name: appdynamics
product_version: ^4\.4\..*$

dependency_product_tiles: 'cf'

product_config: |
  product-name: appdynamics
  network-properties:
    network:
      name:
    service-network:
      name:
    other_availability_zones:
    - name:
    - name:
    singleton_availability_zone:
      name:

  product-properties:
    .properties.allow_paid_service_plans:
      value: false
    .properties.appd_analytics_access_key:
      value:
    .properties.appd_analytics_controller:
      value:
    .properties.appd_analytics_event_endpoint:
      value:
    .properties.appd_analytics_event_name:
      value:
    .properties.appd_analytics_global_account:
      value:
    .properties.appd_ma_account_access_key:
      value:
    .properties.appd_ma_account_name:
      value:
    .properties.appd_ma_host_name:
      value:
    .properties.appd_ma_port:
      value:
    .properties.appd_ma_ssl_enabled:
      value: false
    .properties.appd_ma_user_name:
      value:
    .properties.appd_ma_user_pass:
      value:
    .properties.appd_nozzle_app_name:
      value:
    .properties.appd_nozzle_node_name:
      value:
    .properties.appd_nozzle_tier_id:
      value:
    .properties.appd_nozzle_tier_name:
      value:
    .properties.appd_plans:
      value:
    .properties.appdservice_enable_global_access_to_plans:
      value: true
    .properties.apply_open_security_group:
      value: true
    .properties.org:
      value: appdynamics-org
    .properties.space:
      value: appdynamics-space

  resource-config:
    deploy-all:
      instances: 1
      instance_type:
        id: micro
    delete-all:
      instances: 1
      instance_type:
        id: micro
    machineagent_server_node:
      instances: 1
      instance_type:
        id: nano

  errand-config:
    deploy-all:
      post-deploy-state: true
      pre-delete-state: default

# Apply Changes Config for appdynamics are:
apply_changes_config: |
  deploy_products: ["appdynamics"]
  errands:
    appdynamics:
      run_post_deploy:
        deploy-all: true
  ignore_warnings: true
